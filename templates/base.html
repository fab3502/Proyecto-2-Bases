<!DOCTYPE html>
<html lang="en" data-bs-theme="dark"> 
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}App{% endblock %}</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    
    :root { color-scheme: dark; }            
    body { background: #0b0f14; }            

    /* Flash styles tuned for dark */
    .flash-area { margin: 1rem 0; }
    .flash { padding: .5rem .75rem; border-radius: .5rem; margin: .25rem 0; border: 1px solid #2a3340; background:#141a22; color:#e6e8eb; }
    .flash.error   { background:#2a1114; border-color:#5a1b20; color:#ffc9c9; }
    .flash.info    { background:#101f30; border-color:#1f3b5a; color:#cfe8ff; }
    .flash.success { background:#0f2219; border-color:#1f4c33; color:#c8f7d2; }
  </style>

  {% block head %}{% endblock %}
</head>
<body class="text-light">
  <main class="container py-4">

    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-area">
          {% for category, msg in messages %}
            <div class="flash {{ category }}">{{ msg }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  {% block scripts %}{% endblock %}
</body>
</html>
